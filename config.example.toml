# arrgo configuration
# Copy to config.toml and edit values

[server]
host = "0.0.0.0"
port = 8484
log_level = "info"  # debug | info | warn | error

[database]
path = "./data/arrgo.db"

# Media library paths and naming templates
[libraries.movies]
root = "/srv/data/media/movies"
naming = "{title} ({year})/{title} ({year}) [{quality}].{ext}"

[libraries.series]
root = "/srv/data/media/tv"
naming = "{title}/Season {season:02d}/{title} - S{season:02d}E{episode:02d} [{quality}].{ext}"

# Quality Profiles
# Each profile specifies preferred attributes in order of preference.
# Omitted fields mean "no preference".
[quality]
default = "hd"

# Minimal profile - just resolution
[quality.profiles.sd]
resolution = ["720p", "480p"]

# Standard HD
[quality.profiles.hd]
resolution = ["1080p", "720p"]
sources = ["bluray", "webdl"]

# Premium 4K with HDR/audio preferences
[quality.profiles.uhd]
resolution = ["2160p", "1080p"]
sources = ["bluray", "webdl"]
codecs = ["x265", "x264"]
hdr = ["dolby-vision", "hdr10+", "hdr10"]
audio = ["atmos", "truehd", "dtshd"]
prefer_remux = true
reject = ["hdtv", "cam", "ts"]

# Newznab indexers (add as many as needed)
# Each [indexers.NAME] section defines an indexer
[indexers.nzbgeek]
url = "https://api.nzbgeek.info"
api_key = "${NZBGEEK_API_KEY}"

# Add more indexers as needed:
# [indexers.drunkenslug]
# url = "https://api.drunkenslug.com"
# api_key = "${DRUNKENSLUG_API_KEY}"

# Download clients
[downloaders.sabnzbd]
url = "http://localhost:8085"
api_key = "${SABNZBD_API_KEY}"
category = "arrgo"
# Path mapping for Docker: translate SABnzbd's container paths to host paths
# remote_path = "/data/usenet"       # Path as reported by SABnzbd
# local_path = "/srv/data/usenet"    # Corresponding path on this machine

# Uncomment when torrent support is added
# [downloaders.qbittorrent]
# url = "http://localhost:8083"
# username = "admin"
# password = "${QB_PASSWORD}"

# Media server notifications
[notifications.plex]
url = "http://localhost:32400"
token = "${PLEX_TOKEN}"
libraries = ["Movies", "TV Shows"]

# Overseerr integration (optional)
[overseerr]
enabled = false
url = "http://localhost:5055"
api_key = "${OVERSEERR_API_KEY}"
sync_interval = "5m"

# Compatibility API for Overseerr to connect to arrgo
[compat]
api_key = "${ARRGO_API_KEY}"
radarr = true
sonarr = true

# AI assistant configuration
[ai]
enabled = true
provider = "ollama"  # ollama | anthropic

[ai.ollama]
url = "http://localhost:11434"
model = "llama3.1:8b"

[ai.anthropic]
api_key = "${ANTHROPIC_API_KEY}"
model = "claude-3-haiku"
